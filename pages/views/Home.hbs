<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
     <link rel="stylesheet" href="bootstrap-5.0.2-dist/css/bootstrap.min.css">
</head>
<body>
    {{!-- <h2>you are in home page <label class="lp1"></label></h2>
   <div class="d-flex justify-content-center">
        <button type="button" class="btn1 btn-success btn-block btn-lg gradient-custom-4 text-body">forDeveloper</button>
         <button type="button" class="btn2 btn-success btn-block btn-lg gradient-custom-4 text-body">Delete-My-Account</button>
          <button type="button" class="btn3 btn-success btn-block btn-lg gradient-custom-4 text-body">For task1</button>
           <button type="button" class="btn4 btn-success btn-block btn-lg gradient-custom-4 text-body">ShowCars</button>
    </div> --}}

    <div class="header" style="background-color: black; ">
    <nav class="navbar navbar-expand-lg" id="nav">
      <div class="container-fluid">
       
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent" style="color: white;">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="#" id="img" style="color: whitesmoke;">Proudect</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" id="img" style="color: whitesmoke;">Solution</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" id="img" style="color: whitesmoke;">Resourses</a>
            </li>
            <li class="nav-item">
              <a class="nav-link btn1" href="#" id="img" style="color: whitesmoke;">Developer</a>
            </li>
            <li class="nav-item">
              <a class="nav-link btn3" href="#" id="img" style="color: whitesmoke;">Jobs</a>
            </li>
             <li class="nav-item">
              <a class="nav-link btn4" href="#" id="img" style="color: whitesmoke;">Show-Cars</a>
            </li>
             <li class="nav-item">
              <a class="nav-link btn2" href="#" id="img" style="color: whitesmoke;">Delete-my-account</a>
            </li>
          </ul>
          <form class="d-flex" role="search">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <h4 style="color: white;">Welcome <label class="lp1"></label></h4>
              </li>
            </ul>
  
          </form>
        </div>
      </div>
    </nav>
  </div>

    <script>
        const getuser =localStorage.getItem("username")
        const label =document.querySelector(".lp1")
        label.innerHTML=getuser
        

         const but1=document.querySelector(".btn1")
         const but2=document.querySelector(".btn2")
         const but3=document.querySelector(".btn3")
          const but4=document.querySelector(".btn4")

         but3.addEventListener("click" ,()=>{
             setTimeout(() => {
                            window.location = "task1"

                        }, 100)
         })
          but4.addEventListener("click" ,()=>{
             setTimeout(() => {
                            window.location = "showCars"

                        }, 100)
         })
         
          function submitform(e) {
            e.preventDefault()
                fetch("http://localhost:3000/developerPage", {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                })
                    .then(response => response.json())
                    .then((data) => {
                        if(data=="Welcome Admine"){
                            alert("Welcome Admine")
                             setTimeout(() => {
                            window.location = "developerPage"

                        }, 100)
                        }else{
                            alert("This page is for admine only")
                        }
                      

                    }).catch((e) => {
                        console.log(e)
                    })

            }

            // location.reload()
        
        but1.addEventListener('click', submitform)


        //for logout
        function submitform2(e) {
            e.preventDefault()
                fetch("http://localhost:3000/Home", {
                    method: 'Delete',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                })
                   
                    .then((data) => {
                        console.log(data)
                        localStorage.setItem("username" ,"")
                        localStorage.setItem("email" ,"")
                        localStorage.setItem("password" ,"")
                        localStorage.setItem("age" ,"")
                             setTimeout(() => {
                            window.location = "/"

                        }, 100)
                    

                    }).catch((e) => {
                        console.log(e)
                    })

            }        
        but2.addEventListener('click', submitform2)
        
        

    </script>
</body>
</html>